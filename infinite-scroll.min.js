!function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define("infinite-scroll",[],b):a["infinite-scroll"]=b()}(this,function(){return["$window",function(a){var b,c;return c={interval:100,tolerance:100},b={restrict:"A",scope:!1,link:function(b,d,e){var f,g,h,i,j,k,l,m,n;if(h=e.infiniteScroll,j=null,k=!1,n=0,f=function(){return k?void 0:a.pageYOffset+n-c.tolerance-d.height()>0?(k=!0,b[h]().then(g,g),b.$apply()):void 0},g=function(){return k=!1},l=function(){return n=a.innerHeight},m=function(a){return clearInterval(j),a?j=setInterval(f,c.interval):void 0},i=function(){return!!d[0].offsetHeight},!b[h])throw new TypeError("infinite-scroll expects function '"+h+"' to be defined on $scope");return e.infiniteScrollInterval>-1&&(c.interval=e.infiniteScrollInterval),e.infiniteScrollTolerance>-1&&(c.tolerance=e.infiniteScrollTolerance),l(),b.$watch(i,m),a.addEventListener("resize",l),b.$on("$destroy",function(){return clearInterval(j),a.removeEventListener("resize",l)})}}}]});