!function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define("infinite-scroll",[],b):a["infinite-scroll"]=b()}(this,function(){return["$window",function(a){var b,c;return c={interval:100,tolerance:100},b={restrict:"A",scope:!1,link:function(b,d,e){var f,g,h,i,j,k,l,m;if(g=e.infiniteScroll,i=null,j=!1,m=0,f=function(){return j?void 0:a.pageYOffset+m-c.tolerance-d.height()>0?(j=!0,b[g]().then(function(){return j=!1}),b.$apply()):void 0},k=function(){return m=a.innerHeight},l=function(a){return clearInterval(i),a?i=setInterval(f,c.interval):void 0},h=function(){return!!d[0].offsetHeight},!b[g])throw new TypeError("infinite-scroll expects function '"+g+"' to be defined on $scope");return e.infiniteScrollInterval>-1&&(c.interval=e.infiniteScrollInterval),e.infiniteScrollTolerance>-1&&(c.tolerance=e.infiniteScrollTolerance),k(),b.$watch(h,l),a.addEventListener("resize",k),b.$on("$destroy",function(){return clearInterval(i),a.removeEventListener("resize",k)})}}}]});