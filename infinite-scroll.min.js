!function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define("infinite-scroll",[],b):a["infinite-scroll"]=b()}(this,function(){return["$window",function(a){"use strict";var b={interval:50,tolerance:0};return{restrict:"A",scope:!1,link:function(c,d,e){function f(){k||a.pageYOffset-d[0].scrollHeight+b.tolerance+d[0].offsetHeight>0&&(k=!0,c[j]().then(function(){k=!1}),c.$apply())}function g(a){clearInterval(i),a&&(i=setInterval(f,b.interval))}function h(){return!!d[0].offsetHeight}var i,j=e.infiniteScroll,k=!1;if(!c[j])throw new TypeError('infinite-scroll expects function "'+j+'" to be defined on $scope');e.infiniteScrollInterval>-1&&(b.interval=e.infiniteScrollInterval),e.infiniteScrollTolerance>-1&&(b.tolerance=e.infiniteScrollTolerance),c.$watch(h,g),c.$on("$destroy",function(){clearInterval(i)})}}}]});